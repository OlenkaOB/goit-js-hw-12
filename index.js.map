{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const BASE_URL = 'https://pixabay.com/';\nexport const API_KEY = '46069997-68364f05efefbed8c9e798952';\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst showBox = new SimpleLightbox('.galleryEl a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n  overlayOpacity: 0.7,\n  className: 'lightbox',\n});\n\nexport const createGalleryMarkup = photos =>\n  photos\n    .map(\n      photo =>\n        `<li class=\"galleryEl\">\n    <a class=\"gallery-link\" href=\"${photo.largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${photo.webformatURL}\"\n          alt=\"${photo.tags}\"\n          title=\"${photo.tags}\"/>\n      </a>\n        <ul class=\"data-list\">\n          <li class=\"card-text\">\n            <h2 class=\"data-item-name\" >likes</h2>\n            <p class=\"data-numbers\">${photo.likes}</p>\n          </li>\n          <li class=\"card-text\">\n            <h2 class=\"data-item-name\">views</h2>\n            <p class=\"data-numbers\">${photo.views}</p>\n          </li>\n          <li class=\"card-text\">\n            <h2 class=\"data-item-name\">comments</h2>\n            <p class=\"data-numbers\">${photo.comments}</p>\n          </li>\n          <li class=\"card-text\">\n            <h2 class=\"data-item-name\">downloads</h2>\n            <p class=\"data-numbers\">${photo.downloads}</p>\n          </li>\n        </ul>\n      </li>`\n    )\n    .join('');\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { API_KEY, BASE_URL } from './js/pixabay-api';\nimport { createGalleryMarkup } from './js/render-functions';\n\nconst form = document.querySelector('form.js-search-form');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', onButtonSubmit);\n\nconst showBox = new SimpleLightbox('.galleryEl a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n  overlayOpacity: 0.7,\n  className: 'lightbox',\n});\n\nfunction showLoader() {\n  document.getElementById('loader').style.display = 'block';\n}\n\nfunction hideLoader() {\n  document.getElementById('loader').style.display = 'none';\n}\n\nfunction onButtonSubmit(event) {\n  event.preventDefault();\n  showLoader();\n\n  const forma = event.currentTarget;\n  const {\n    searchValue: { value: query },\n  } = forma.elements;\n  console.log(query);\n\n  if (query === '') {\n    iziToast.show({\n      message: `⚠️ Please fill search input`,\n      position: 'topRight',\n      color: 'yellow',\n    });\n    hideLoader();\n    return;\n  }\n\n  const options = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  };\n\n  const params = new URLSearchParams(options);\n  console.log(params.toString());\n\n  gallery.innerHTML = '';\n\n  fetch(`${BASE_URL}api/?${params}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(photos => {\n      if (!photos.hits || photos.hits.length === 0) {\n        iziToast.show({\n          title: '❌',\n          message: `\"Sorry, there are no images matching your search query. Please try again!\"`,\n          position: 'topRight',\n          color: 'red',\n        });\n        return;\n      }\n      console.log(photos);\n      gallery.insertAdjacentHTML('beforeend', createGalleryMarkup(photos.hits));\n      showBox.refresh();\n    })\n\n    .catch(error => console.log(error))\n    .finally(() => {\n      hideLoader();\n    });\n}\n"],"names":["BASE_URL","API_KEY","SimpleLightbox","createGalleryMarkup","photos","photo","form","gallery","onButtonSubmit","showBox","showLoader","hideLoader","event","forma","query","iziToast","options","params","response","error"],"mappings":"wvBAAO,MAAMA,EAAW,uBACXC,EAAU,qCCEP,IAAIC,EAAe,eAAgB,CACjD,SAAU,GACV,aAAc,MACd,aAAc,IACd,eAAgB,GAChB,UAAW,UACb,CAAC,EAEM,MAAMC,EAAsBC,GACjCA,EACG,IACCC,GACE;AAAA,oCAC4BA,EAAM,aAAa;AAAA;AAAA;AAAA,iBAGtCA,EAAM,YAAY;AAAA,iBAClBA,EAAM,IAAI;AAAA,mBACRA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,sCAKSA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,sCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,sCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,sCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,YAIhD,EACA,KAAK,EAAE,ECpCNC,EAAO,SAAS,cAAc,qBAAqB,EACnDC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAK,iBAAiB,SAAUE,CAAc,EAE9C,MAAMC,EAAU,IAAIP,EAAe,eAAgB,CACjD,SAAU,GACV,aAAc,MACd,aAAc,IACd,eAAgB,GAChB,UAAW,UACb,CAAC,EAED,SAASQ,GAAa,CACpB,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,OACpD,CAEA,SAASC,GAAa,CACpB,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,MACpD,CAEA,SAASH,EAAeI,EAAO,CAC7BA,EAAM,eAAc,EACpBF,IAEA,MAAMG,EAAQD,EAAM,cACd,CACJ,YAAa,CAAE,MAAOE,CAAO,CACjC,EAAMD,EAAM,SAGV,GAFA,QAAQ,IAAIC,CAAK,EAEbA,IAAU,GAAI,CAChBC,EAAS,KAAK,CACZ,QAAS,8BACT,SAAU,WACV,MAAO,QACb,CAAK,EACDJ,IACA,MACD,CAED,MAAMK,EAAU,CACd,IAAKf,EACL,EAAGa,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,EAEQG,EAAS,IAAI,gBAAgBD,CAAO,EAC1C,QAAQ,IAAIC,EAAO,SAAU,CAAA,EAE7BV,EAAQ,UAAY,GAEpB,MAAM,GAAGP,CAAQ,QAAQiB,CAAM,EAAE,EAC9B,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKd,GAAU,CACd,GAAI,CAACA,EAAO,MAAQA,EAAO,KAAK,SAAW,EAAG,CAC5CW,EAAS,KAAK,CACZ,MAAO,IACP,QAAS,6EACT,SAAU,WACV,MAAO,KACjB,CAAS,EACD,MACD,CACD,QAAQ,IAAIX,CAAM,EAClBG,EAAQ,mBAAmB,YAAaJ,EAAoBC,EAAO,IAAI,CAAC,EACxEK,EAAQ,QAAO,CACrB,CAAK,EAEA,MAAMU,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbR,GACN,CAAK,CACL"}